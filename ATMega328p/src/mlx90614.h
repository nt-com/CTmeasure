/*********************************************************************
 * MLX90614 Module - Header File
 * Short Name: mlx
 * Author: nmt @ NT-COM
 * Date: 23.03.2020
 * Description: Reading of the MLX90614 sensor
 *********************************************************************/

/*********************************************************************
 * Changelog:
 * [Date][Author]:[Change]
 * [23.03.2020][nmt]: initial commit
 *********************************************************************/

#ifndef MLX90614_H
#define MLX90614_H

/*********************************************************************
 * LIBRARIES
 *********************************************************************/
#include <stdint.h>
#include "twi.h"

/*********************************************************************
 * MACROS
 *********************************************************************/
#define MLX_I2C_ADDR	0b10110100		/* 0x5A shifted by one bit, with write bit */
#define TEMPERATURE_REGISTER_ADDR	0x7
#define MESSAGE_LENGTH	0x3
 
/*********************************************************************
 * TYPES
 *********************************************************************/

/*********************************************************************
 * FUNCTION PROTOTYPES
 *********************************************************************/

/**
 * @brief read a 16 bit temperature value from the sensor
 * @param temperature stores the temperature value
 * @return error code, see twi.h
 *
 */
extern uint8_t mlx_read(uint8_t *temperature);

/*********************************************************************
 * EOF
 *********************************************************************/
#endif

